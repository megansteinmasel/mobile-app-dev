import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.animation.core.animateFloatAsState
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.padding
import androidx.compose.material3.Button
import androidx.compose.material3.Text
import androidx.compose.runtime.*
import androidx.compose.ui.Modifier
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.unit.dp
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.window.DialogProperties
import androidx.compose.ui.Alignment
import androidx.compose.ui.graphics.Color
import androidx.compose.material3.Text

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            AnimatedVisibilityExample()
        }
    }
}

@Composable
fun AnimatedVisibilityExample() {
    var visible by remember { mutableStateOf(false) }

    // Use animateFloatAsState to animate the alpha (fade in/out)
    val alpha by animateFloatAsState(targetValue = if (visible) 1f else 0f)

    Column(
        horizontalAlignment = Alignment.CenterHorizontally,
        modifier = Modifier.padding(16.dp)
    ) {
        Button(onClick = { visible = !visible }) {
            Text("Toggle Fade")
        }

        // The element that will fade in/out
        Text(
            text = "I will fade in and out!",
            modifier = Modifier.padding(top = 20.dp),
            color = Color.Black.copy(alpha = alpha)
        )
    }
}

@Preview(showBackground = true)
@Composable
fun DefaultPreview() {
    AnimatedVisibilityExample()
}

